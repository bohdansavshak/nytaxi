
// To build docker image and push it. You need need to build project first. Then build image and then push it.
./gradlew clean assemble
docker build -t lari245/first-promotion-image:latest .
docker image push lari245/first-promotion-image:latest

// If you need to know which port is exposed for your minikube on docker desktop
docker port minikube

// To create namespace and set it as default
kubectl create namespace bohdansavshak
kubectl config set-context --current --namespace=bohdansavshak

// To let your pods access private dockerhub image repository
kubectl create secret docker-registry promotion --docker-server=https://index.docker.io/v1/ --docker-username=<username> --docker-password=<password> --docker-email=<email>


// postgres related
// create configmap with init.sql to create database on start
kubectl create configmap postgres-config --from-file=create-schema-init.sql

// create secret with password for postgres
kubectl create secret generic postgres-secret --from-literal=postgresql-password=mysecretpassword

// to get inside postgres pod
kubectl exec -it <your-postgres-pod-name> -- /bin/bash
psql -U <your-postgres-username> -d <your-database-name>
psql -U postgres -d username_nytaxi

// to create
kubectl apply -f <definition-file>.yml